smiths_vm_template: "{{ lookup('file', '../../../arm-templates/virtual-machine.json') | from_json }}"


smiths_os_type_mapping:
  "Windows Server 2016": "s"
  "Ubuntu Server 18.04 LTS": "x"

  # "Windows Server": "s"
  # "Linux Server": "x"
  # "Windows Client": "w"

smiths_os_type_code: "{{ smiths_os_type_mapping[smiths_os] | default('u') }}"

smiths_os_image_mapping:
  "Windows Server 2016":
    publisher: "MicrosoftWindowsServer"
    offer: "WindowsServer"
    sku: "2016-Datacenter"
    version: "latest"
  "Ubuntu Server 18.04 LTS":
    publisher: "Canonical"
    offer: "UbuntuServer"
    sku: "18.04-LTS"
    version: "latest"

smiths_os_image: "{{ smiths_os_image_mapping[smiths_os] }}"

smiths_vm_purpose_mapping:
  "Application Server": "ap"
  "Domain Controller": "dc"
  "File Server": "fs"
  "Web Server": "web"
  "Database Server": "db"

smiths_vm_purpose_code: "{{ smiths_vm_purpose_mapping[smiths_vm_purpose] }}"

smiths_resource_group_name: "{{ smiths_division_code }}-{{ smiths_environment_code }}-{{ smiths_service_name }}-rg"
smiths_vm_name: "{{ smiths_region_code }}{{ smiths_os_type_code }}{{ smiths_environment_char }}{{ smiths_vm_purpose_code }}{{ smiths_vm_id }}"
